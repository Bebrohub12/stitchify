"use strict";exports.id=285,exports.ids=[285],exports.modules={55168:(e,t,s)=>{s.d(t,{Z:()=>h});var i=s(10326);s(17577);var r=s(90434),a=s(55074),n=s(75901),l=s(94001),o=s(44976),d=s(10119),c=s(44099),u=s(40381);function h({design:e}){let{isAuthenticated:t,user:s,updateFavorites:h}=(0,l.a)(),x=(0,o.NL)(),m=(0,d.D)({mutationFn:async()=>(await c.Z.post(`/api/designs/${e._id}/favorite`)).data,onSuccess:t=>{h(e._id,t.favorited),x.invalidateQueries({queryKey:["featuredDesigns"]}),x.invalidateQueries({queryKey:["popularDesigns"]}),x.invalidateQueries({queryKey:["designs"]})},onError:e=>{u.ZP.error(e.response?.data?.message||"Failed to update favorite")}}),g=s?.favorites?.includes(e._id);return(0,i.jsxs)(r.default,{href:`/designs/${e._id}`,className:"group block bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-all duration-200 hover:-translate-y-0.5 border border-gray-100",children:[(0,i.jsxs)("div",{className:"relative aspect-[4/3] overflow-hidden",children:[e.images&&e.images[0]?(0,i.jsxs)(i.Fragment,{children:[i.jsx("img",{src:e.images[0].url,alt:e.images[0].alt||e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),e.images.length>1&&(0,i.jsxs)("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded-md font-medium",children:["+",e.images.length-1]})]}):i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-gray-400 text-sm",children:"No Image"})}),i.jsx("button",{onClick:e=>{if(e.preventDefault(),!t){u.ZP.error("Please login to add favorites");return}m.mutate()},className:`absolute top-2 right-2 p-1.5 rounded-full transition-all duration-200 ${g?"bg-red-500 text-white hover:bg-red-600 shadow-lg":"bg-white/90 text-gray-600 hover:bg-white hover:text-red-500 shadow-sm"}`,children:i.jsx(a.Z,{className:`w-3.5 h-3.5 ${g?"fill-current":""}`})}),i.jsx("div",{className:"absolute top-2 left-2",children:i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-md ${"Beginner"===e.difficulty?"bg-green-100 text-green-700":"Intermediate"===e.difficulty?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:e.difficulty})})]}),(0,i.jsxs)("div",{className:"p-3",children:[i.jsx("h3",{className:"font-medium text-gray-900 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors text-sm",children:e.title}),(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:["$",e.price.toFixed(2)]}),(0,i.jsxs)("div",{className:"flex items-center space-x-1",children:[i.jsx(n.Z,{className:"w-3.5 h-3.5 text-yellow-400 fill-current"}),i.jsx("span",{className:"text-xs text-gray-600",children:e.rating?.average?.toFixed(1)||"0.0"})]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:[(0,i.jsxs)("span",{children:[e.stitchCount||"N/A"," stitches"]}),(0,i.jsxs)("span",{children:[e.downloads||0," downloads"]})]}),e.categories&&e.categories.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1",children:e.categories.slice(0,2).map(e=>i.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded-md",children:e.name},e._id))})]})]})}},24701:(e,t,s)=>{s.d(t,{Z:()=>h});var i=s(10326);s(17577);var r=s(90434),a=s(55074),n=s(75901),l=s(94001),o=s(44976),d=s(10119),c=s(44099),u=s(40381);function h({design:e}){let{isAuthenticated:t,user:s,updateFavorites:h}=(0,l.a)(),x=(0,o.NL)(),m=(0,d.D)({mutationFn:async()=>(await c.Z.post(`/api/designs/${e._id}/favorite`)).data,onSuccess:t=>{h(e._id,t.favorited),x.invalidateQueries({queryKey:["featuredDesigns"]}),x.invalidateQueries({queryKey:["popularDesigns"]}),x.invalidateQueries({queryKey:["designs"]})},onError:e=>{u.ZP.error(e.response?.data?.message||"Failed to update favorite")}}),g=s?.favorites?.includes(e._id);return i.jsx(r.default,{href:`/designs/${e._id}`,className:"group block bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-all duration-200 border border-gray-100",children:(0,i.jsxs)("div",{className:"flex",children:[i.jsx("div",{className:"relative w-24 h-24 flex-shrink-0 overflow-hidden",children:e.images&&e.images[0]?(0,i.jsxs)(i.Fragment,{children:[i.jsx("img",{src:e.images[0].url,alt:e.images[0].alt||e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),e.images.length>1&&(0,i.jsxs)("div",{className:"absolute bottom-1 right-1 bg-black/70 text-white text-xs px-1 py-0.5 rounded text-[10px]",children:["+",e.images.length-1]})]}):i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-gray-400 text-xs",children:"No Image"})})}),(0,i.jsxs)("div",{className:"flex-1 p-3 min-w-0",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[i.jsx("h3",{className:"font-medium text-gray-900 group-hover:text-blue-600 transition-colors text-sm line-clamp-1 flex-1 mr-2",children:e.title}),i.jsx("button",{onClick:e=>{if(e.preventDefault(),!t){u.ZP.error("Please login to add favorites");return}m.mutate()},className:`p-1 rounded-full transition-all duration-200 flex-shrink-0 ${g?"bg-red-500 text-white hover:bg-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-red-500"}`,children:i.jsx(a.Z,{className:`w-3 h-3 ${g?"fill-current":""}`})})]}),i.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mb-2",children:e.description}),(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:["$",e.price.toFixed(2)]}),(0,i.jsxs)("div",{className:"flex items-center space-x-1",children:[i.jsx(n.Z,{className:"w-3 h-3 text-yellow-400 fill-current"}),i.jsx("span",{className:"text-xs text-gray-600",children:e.rating?.average?.toFixed(1)||"0.0"})]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:[(0,i.jsxs)("span",{className:"flex items-center space-x-3",children:[(0,i.jsxs)("span",{children:[e.stitchCount||"N/A"," stitches"]}),(0,i.jsxs)("span",{children:[e.downloads||0," downloads"]})]}),i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-md ${"Beginner"===e.difficulty?"bg-green-100 text-green-700":"Intermediate"===e.difficulty?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:e.difficulty})]}),e.categories&&e.categories.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1",children:e.categories.slice(0,3).map(e=>i.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded-md",children:e.name},e._id))})]})]})})}},10119:(e,t,s)=>{s.d(t,{D:()=>c});var i=s(17577),r=s(71180),a=s(12113),n=s(64351),l=s(3341),o=class extends n.l{#e;#t=void 0;#s;#i;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,l.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,l.Ym)(t.mutationKey)!==(0,l.Ym)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#r(),this.#a()}mutate(e,t){return this.#i=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#r(){let e=this.#s?.state??(0,r.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#a(e){a.Vr.batch(()=>{if(this.#i&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context;e?.type==="success"?(this.#i.onSuccess?.(e.data,t,s),this.#i.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#i.onError?.(e.error,t,s),this.#i.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(e=>{e(this.#t)})})}},d=s(44976);function c(e,t){let s=(0,d.NL)(t),[r]=i.useState(()=>new o(s,e));i.useEffect(()=>{r.setOptions(e)},[r,e]);let n=i.useSyncExternalStore(i.useCallback(e=>r.subscribe(a.Vr.batchCalls(e)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),c=i.useCallback((e,t)=>{r.mutate(e,t).catch(l.ZT)},[r]);if(n.error&&(0,l.L3)(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:c,mutateAsync:n.mutate}}},85804:(e,t,s)=>{s.d(t,{Z:()=>i});let i=(0,s(87926).Z)("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]])},79518:(e,t,s)=>{s.d(t,{Z:()=>i});let i=(0,s(87926).Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},75901:(e,t,s)=>{s.d(t,{Z:()=>i});let i=(0,s(87926).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])}};