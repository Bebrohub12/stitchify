(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[555],{9321:function(e,r,a){Promise.resolve().then(a.bind(a,9548))},9376:function(e,r,a){"use strict";var s=a(5475);a.o(s,"useParams")&&a.d(r,{useParams:function(){return s.useParams}}),a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(r,{useSearchParams:function(){return s.useSearchParams}})},9548:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return b},dynamic:function(){return h}});var s=a(5583),t=a(1780),l=a(7437),i=a(2265),n=a(9376),c=a(1713),d=a(7089),o=a(5964);let u=(0,a(8301).Z)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);var g=a(3669),y=a(3464),x=a(916),m=a(1218),p=a(7371);let h="force-dynamic";function f(){let e=(0,n.useSearchParams)(),r=(0,n.useRouter)(),[a,h]=(0,i.useState)("grid"),[f,b]=(0,i.useState)(!1),[v,j]=(0,i.useState)({category:"",difficulty:"",priceRange:"",sortBy:"createdAt",sortOrder:"desc"}),N=e.get("search")||"",{data:k,isLoading:w}=(0,c.a)({queryKey:["designs",v,N],queryFn:async()=>{let e=new URLSearchParams;return N&&e.append("search",N),v.category&&e.append("category",v.category),v.difficulty&&e.append("difficulty",v.difficulty),v.priceRange&&e.append("priceRange",v.priceRange),v.sortBy&&e.append("sortBy",v.sortBy),v.sortOrder&&e.append("sortOrder",v.sortOrder),(await y.Z.get("/api/designs?".concat(e.toString()))).data}}),R=(null==k?void 0:k.designs)||[],{data:S}=(0,c.a)({queryKey:["categories"],queryFn:async()=>(await y.Z.get("/api/categories/main")).data});(0,i.useEffect)(()=>{let e=new URLSearchParams;N&&e.append("search",N),v.category&&e.append("category",v.category),v.difficulty&&e.append("difficulty",v.difficulty),v.priceRange&&e.append("priceRange",v.priceRange),v.sortBy&&e.append("sortBy",v.sortBy),v.sortOrder&&e.append("sortOrder",v.sortOrder);let a=e.toString()?"/designs?".concat(e.toString()):"/designs";r.push(a,{scroll:!1})},[v,N,r]);let C=(e,r)=>{j(a=>(0,t._)((0,s._)({},a),{[e]:r}))};return(0,l.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:N?'Search Results for "'.concat(N,'"'):"All Designs"}),(0,l.jsxs)("p",{className:"text-gray-600",children:[(null==R?void 0:R.length)||0," designs found"]})]}),(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(p.Z,{})}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex bg-white rounded-lg border border-gray-300 p-1",children:[(0,l.jsx)("button",{onClick:()=>h("grid"),className:"p-2 rounded-md transition-colors ".concat("grid"===a?"bg-primary-100 text-primary-600":"text-gray-600 hover:text-gray-900"),children:(0,l.jsx)(d.Z,{className:"w-5 h-5"})}),(0,l.jsx)("button",{onClick:()=>h("list"),className:"p-2 rounded-md transition-colors ".concat("list"===a?"bg-primary-100 text-primary-600":"text-gray-600 hover:text-gray-900"),children:(0,l.jsx)(o.Z,{className:"w-5 h-5"})})]}),(0,l.jsxs)("button",{onClick:()=>b(!f),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,l.jsx)(u,{className:"w-5 h-5"}),(0,l.jsx)("span",{children:"Filters"})]})]})]}),f&&(0,l.jsxs)("div",{className:"bg-white rounded-lg border border-gray-300 p-6 mb-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,l.jsxs)("select",{value:v.category,onChange:e=>C("category",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"",children:"All Categories"}),null==S?void 0:S.map(e=>(0,l.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),(0,l.jsxs)("select",{value:v.difficulty,onChange:e=>C("difficulty",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"",children:"All Difficulties"}),(0,l.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,l.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,l.jsx)("option",{value:"Advanced",children:"Advanced"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),(0,l.jsx)("select",{value:v.priceRange,onChange:e=>C("priceRange",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[{value:"",label:"All Prices"},{value:"0-5",label:"Under $5"},{value:"5-10",label:"$5 - $10"},{value:"10-20",label:"$10 - $20"},{value:"20+",label:"Over $20"}].map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("select",{value:v.sortBy,onChange:e=>C("sortBy",e.target.value),className:"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[{value:"createdAt",label:"Newest"},{value:"price",label:"Price"},{value:"sales",label:"Popularity"},{value:"rating",label:"Rating"},{value:"title",label:"Title"}].map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,l.jsx)("button",{onClick:()=>C("sortOrder","asc"===v.sortOrder?"desc":"asc"),className:"px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"asc"===v.sortOrder?"↑":"↓"})]})]})]}),(0,l.jsx)("div",{className:"mt-4 flex justify-end",children:(0,l.jsx)("button",{onClick:()=>{j({category:"",difficulty:"",priceRange:"",sortBy:"createdAt",sortOrder:"desc"})},className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Clear All Filters"})})]}),w?(0,l.jsx)("div",{className:"flex justify-center py-12",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):0===R.length?(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)(g.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No designs found"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search or filters"})]}):(0,l.jsx)("div",{className:"grid"===a?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4":"space-y-3",children:R.map(e=>"grid"===a?(0,l.jsx)(x.Z,{design:e},e._id):(0,l.jsx)(m.Z,{design:e},e._id))})]})})}function b(){return(0,l.jsx)(i.Suspense,{fallback:(0,l.jsx)("div",{className:"text-center py-12",children:"Loading..."}),children:(0,l.jsx)(f,{})})}},7371:function(e,r,a){"use strict";var s=a(7437),t=a(2265),l=a(9376),i=a(9150);r.Z=()=>{let[e,r]=(0,t.useState)(""),a=(0,l.useRouter)();return(0,s.jsxs)("form",{onSubmit:r=>{r.preventDefault(),e.trim()&&a.push("/designs?search=".concat(encodeURIComponent(e.trim())))},className:"relative w-full",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>r(e.target.value),placeholder:"Search embroidery designs...",className:"w-full pl-10 pr-4 py-2 border-2 border-primary-200 rounded-lg focus:ring-2 focus:ring-primary-800 focus:border-primary-800 focus:outline-none transition-all"})]}),(0,s.jsx)("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-primary-900 text-white px-3 py-1 rounded-md hover:bg-primary-800 text-sm transition-colors",children:"Search"})]})}},3669:function(e,r,a){"use strict";a.d(r,{Z:function(){return s}});let s=(0,a(8301).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},9150:function(e,r,a){"use strict";a.d(r,{Z:function(){return s}});let s=(0,a(8301).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}},function(e){e.O(0,[589,64,464,763,713,342,971,117,744],function(){return e(e.s=9321)}),_N_E=e.O()}]);